<%inherit file="/base.html"/>
<%block name="content">

<div class="king-page-box">


		<div class="panel panel-default pannel-overflow panel-tables table7_demo">
			<div class="panel-content">
				<table class="table table-header-bg table-hover mb0" id="table_demo2">
					<thead>
						<tr>
							<th style="width: 100px">ID</th>
							<th style="width:25%">主机IP</th>
							<th style="width:25%">主机名</th>
							<th>操作</th>
						</tr>
					</thead>
					<tbody>
						% for data in datas:
						<tr>
							<td style="width: 100px;" id="table-id">${data.id}</td>
							<td style="width: 20%;" id="table-ip">${data.host_ip}</td>
							<td style="width: 20%;" id="table-name">${data.host_name}</td>
							<td>
								<button type="button" class="king-btn mr10  king-primary" title="删除" id="btn-set" onclick="add_to_celery(this)">
									<i class="glyphicon glyphicon-edit"></i>
								</button>
							</td>
						</tr>
						% endfor
					</tbody>
				</table>
			</div>
			<script type="text/javascript">
				$('#table_demo2').find('input[name="checkall"]').click(function(){
						var checked = $(this).prop('checked');
						$('#table_demo2>tbody input').prop('checked', checked);
					});
					$('#table_demo2').find(':checkbox').on('click', function(){
						if(!this.checked){
							$('#table_demo2').find('input[name="checkall"]').prop('checked',false);
						}
					});
					$('#table_demo2').find('.glyphicon-remove').parent('button').click(function(){
						if(confirm('确定要删除？')){
							$(this).closest('tr').remove();
						}
					});
					$('#deleteAll').click(function(event) {
						var records = $('#table_demo2>tbody input:checked').closest('tr');
						if (!records.length){
							alert('请选择要删除的记录！');
							return false;
						}
						if(confirm('确定要删除？')){
							records.remove();
						}
					});
			</script>
		</div>
    </div>

</%block>